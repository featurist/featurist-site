{"componentChunkName":"component---src-templates-case-study-jsx","path":"/case-studies/ttc-approach/","result":{"data":{"images":{"edges":[]},"markdownRemark":{"htmlAst":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We did a "},{"type":"element","tagName":"a","properties":{"href":"../ttc/"},"children":[{"type":"text","value":"lot of work at the Travel Corporation"}]},{"type":"text","value":", this describes some of the more technical aspects of our engagement. We also "},{"type":"element","tagName":"a","properties":{"href":"../ttc-approach-review-apps/"},"children":[{"type":"text","value":"Deployed all Pull Requests"}]},{"type":"text","value":" and "},{"type":"element","tagName":"a","properties":{"href":"../ttc-approach-testing/"},"children":[{"type":"text","value":"Wrote Automated Tests for Every Feature"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"monorepo","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#monorepo","ariaLabel":"monorepo permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Monorepo"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"From the beginning we set out to use a monorepo, a single Git repository containing all the code, tests, assets, deployment scripts and non-secret configuration for each of the services and applications in the system."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This was a major factor in keeping things simple across a number of different aspects: there was only one CI; one deployment process (even if there were multiple services and data centers); automated acceptance tests covered the whole system as one; pull requests included changes to the whole system which made code review and manual testing much more straightfoward. It meant that all of our code, irrespective of how it was deployed or used, was considered as a single cohesive system that could be developed and refactored together, tested together and deployed together."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"feature-toggles","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#feature-toggles","ariaLabel":"feature toggles permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Feature toggles"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Another technique we used that allowed us to merge features more often without endangering the production release was feature toggles. We’d often do this when we were dependent on other teams, or other business processes for the whole end to end feature to work: we’d write our part of the feature, we’d test and merge it, but make sure the feature was disabled in our production environment so it wasn’t accessible, or wouldn’t endanger existing functionality. Once those blockers were gone, we’d re-enable the feature in production."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The advantage to this approach was that we didn’t see features rot in their own branches while we waited on external blockers to be lifted."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"design-apis-for-users","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#design-apis-for-users","ariaLabel":"design apis for users permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Design APIs for users"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"span","properties":{"className":["float-left"]},"children":[{"type":"element","tagName":"span","properties":{"className":["image-frame"]},"children":[{"type":"element","tagName":"span","properties":{"className":["image-frame-image"]},"children":[{"type":"element","tagName":"a","properties":{"href":"https://api.ttc.com","target":"_blank","rel":["nofollow"]},"children":[{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 131.0810810810811%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAYAAAC3g3x9AAAACXBIWXMAABYlAAAWJQFJUiTwAAAEzklEQVRIx6WU+1OUVRjH33+kH5ypEbBUhBXNGgNXLVOR5CIMRmgKmHfGS4WZKZYB2jQ4GiK4sFzci6AooCsoyyIq5dSMMdooDChyv7Ms7LL76ZwXl6jJrmfmO885z3nP93yfy3mV1qZ7PHzQQGNjA/d+usOte3ep+b6Bqju3uVZfT1ndHYw19eir68mx1JFdWUtWuZU04zX2Zl9g52kjOzMLSUjPYXemHqX5x3IeNlyi8fZFfrCaqb9hwlZl5KbFxNXyYi6WGdCZDGQbTXxbZCQt38BRnQF9WSWGcgv6S5XoSsvRXbnBkewilIZqPdareiwVBVy+XEjJpQJKLhZgKi3gvDkfg1lHoTGP3CId2QW5ZOlzOXAig1s1FrB34Wj+GVdHK3JcrbKglJu+wVyYJpCOSf81ZoHS/GMCX2HOO8b53KMUnU2lMOsIuZkpnD6+j4wj27h7vYTe5l9oetDI8NCgSlhx+QJKpf4LzKeSKc6Ix5CxgZLMHZSdSaH09H6Kj28lL3UD5w7Hk3PoA84cjOPUgThO7InEVppHS3Mr3b0DDA4N4XZ7uHKhECUz/VNOnficlN1x7NkSxaH9iWQc/Zi0w3v5LHkDu5Ni2JUYw46EaD7atI6EjetYH7OGksI8ujq7sNtHmJiYUBXqddkoO3dtY/v2LcTFx7I2Moz18e+zZVsSm5M2EffhRiKiowhdG8aa8PcIC19DuPjm3ZXLqTDmM9LdSXdPH87xcZUw/5wg3JucQPKerURFh7JitZaY2EiSkjYTLg6vfCeYsFVLiFgdQlRoCNGhwcSGhRC2LAiLKQ9n1xOePG3F4XSphDnfnRQK46PZFxNBnPYtIhbOJ3SplhWrVqINXsTb2kUsF1i6ZBHakNdZEiwQ8gaa+fMwncuCrmaGe9qwdz6B7lYy01JREoMX8+VMP1JnzSbd71UiZ79GwIJAFmj80UgE+hMg4B/gz9x5wgq8PGsO+YkaKNrI00OLaT+4kKEDczgW+yaKVhuifjRPE0jgwiCCgjTM1wQwy88XPz8f/Hx98BXwkfCZnM94xZcd2hkYEjScDJvJmShfdGtfYtOyuSg2q1U0ZBUVZ3Mo/SSFmps3sdbWUitgs9leiBvWOizVNVRbbVTV2LheU4ftVj2KyznO0PAwowMDIOz/HUp/fx/379/n6bNnqsMj4Ha7/xMmJlwo9pERmpqaGBAKR8RcYnJzQoXL5VLXHo/nb+F2T6CMj4/R3d1Ne3s7z4RKiY6ODnp7e0UGhlVIQlW9x/OCQCf98jtlfMxBp3hCXV2T6OvrU21PT49KKtfjz1/CX6n7jVAolIRSlTw8JB66VGW32xkdHVWtw+H454RjDqmwUyWU1gtJLPM5ODj4O4V/GvB0wkFRjEePHtHf3/88se4p6y2O98B0+8KiDImfY1tbmyhGm1oQmTdvdZ1OpwqpUK69fm8HeNdTnSAVDovQJJEshDd0WXFZFFl9CemXEXjTIHMs1zIdMsfSJy/2eAShU7wU6fAOWQhJMr0QcsgDck+OsbExldC7ngpZKFYcwimbWm7KG+Xt3rD+7VBDHhA3PX78mJaWlinrDXN69aWVaZF7Mh1/hMy9S0Shtk2/UChDGHhu5aa3qSWmz2UqZMjSTp9LK6P6FS+3weI8h0qCAAAAAElFTkSuQmCC'); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"alt":"api","title":"api","src":"/static/c1a9557e75c53f0371c9b87284a205fc/fcda8/refclient.png","srcSet":["/static/c1a9557e75c53f0371c9b87284a205fc/12f09/refclient.png 148w","/static/c1a9557e75c53f0371c9b87284a205fc/e4a3f/refclient.png 295w","/static/c1a9557e75c53f0371c9b87284a205fc/fcda8/refclient.png 590w","/static/c1a9557e75c53f0371c9b87284a205fc/efc66/refclient.png 885w","/static/c1a9557e75c53f0371c9b87284a205fc/c83ae/refclient.png 1180w","/static/c1a9557e75c53f0371c9b87284a205fc/42b11/refclient.png 2364w"],"sizes":["(max-width:","590px)","100vw,","590px"],"style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;","loading":"lazy"},"children":[]},{"type":"text","value":"\n    "}]}]}]},{"type":"element","tagName":"span","properties":{"className":["image-frame-caption"]},"children":[{"type":"text","value":"we built a tours site that was a test bed for our API design"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This seems pretty obvious really, but it’s easily forgotten in API design because there’s no obvious user interface, and one can waste a lot of time imagining what it might be like to use an API instead of actually using it."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"APIs are building blocks, not final products, so there are potentially lots of different end-user products that can use your API. It’s really important to understand as many of these as possible, you’re very likely to have an insight for a new feature, or a different API structure when you do this. Your API’s endpoints and schema should be as much as possible structured on the basis of these primary use-cases, not on the basis of merely exposing the data and features behind it."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We worked very closely with lots of different potential users of the new API, many of them external clients and partners of TravCorp, from before our first line of code to well into stable releases. Some of these interactions completely changed our approach, giving us the opportunity to fix things that were big problems for our clients, but that were almost unnoticed by ourselves."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We built a web UI that used the API to explore, book and pay for tours. Pretending to be one of our API users really helped us to flesh out the details and structure of the API. This web UI was extremely useful, we used it in manual exploratory testing for the API and we used it in presentations and as a usable demo application for new API users to explore the API. This became a fairly well used tool amongst the wider team for exploring the data and demonstrating and understanding bugs."}]}],"data":{"quirksMode":false}},"fields":{"slug":"/case-studies/ttc-approach/"},"frontmatter":{"date":"May 21, 2019","title":"The Travel Corporation: Our Approach","subtitles":null,"keywords":["The Travel Corporation","Online Booking Engine","API"],"hidden":true}}},"pageContext":{"absolutePathRegex":"/^/home/artem/projects/featurist-site-2019/src/data/case-studies/ttc-approach/images/","slug":"/case-studies/ttc-approach/","prev":{"fileAbsolutePath":"/home/artem/projects/featurist-site-2019/src/data/case-studies/ttc-approach-testing/index.md","fields":{"slug":"/case-studies/ttc-approach-testing/"},"frontmatter":{"title":"The Travel Corporation: Automated Testing"}},"next":null}},"staticQueryHashes":["2665612806","3649515864"]}