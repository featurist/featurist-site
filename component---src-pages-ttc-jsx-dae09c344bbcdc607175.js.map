{"version":3,"sources":["webpack:///./src/pages/ttc.jsx","webpack:///./src/elements/CloseIcon.jsx"],"names":["SectionWrapper","styled","Container","withConfig","displayName","componentId","paddingTop","paddingBottom","CloseWrapper","div","@media (min-width: 600px)","position","Section","_ref","children","props","_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_0___default","title","style","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","_elements_Content__WEBPACK_IMPORTED_MODULE_6__","_elements_Text__WEBPACK_IMPORTED_MODULE_10__","TTC","_components_layout__WEBPACK_IMPORTED_MODULE_3__","_components_seo__WEBPACK_IMPORTED_MODULE_4__","_views_AppWrapper__WEBPACK_IMPORTED_MODULE_5__","_views_Hero__WEBPACK_IMPORTED_MODULE_8__","isDark","opacity","_components_LinkTo__WEBPACK_IMPORTED_MODULE_7__","href","_elements_CloseIcon__WEBPACK_IMPORTED_MODULE_9__","backgroundColor","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","styled_components__WEBPACK_IMPORTED_MODULE_1__","Wrapper","svg","Circle","circle","CloseIcon","viewBox","cx","cy","r","fill","stroke","strokeWidth","d"],"mappings":"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","file":"component---src-pages-ttc-jsx-dae09c344bbcdc607175.js","sourcesContent":["/* eslint-disable react/prop-types */\n/* eslint-disable react/no-unescaped-entities */\nimport React from \"react\"\nimport styled from \"styled-components\"\nimport tw from \"tailwind.macro\"\nimport Layout from \"../components/layout\"\nimport SEO from \"../components/seo\"\nimport AppWrapper from \"../views/AppWrapper\"\nimport { Container, ContentFull, Inner } from \"../elements/Content\"\nimport LinkTo from \"../components/LinkTo\"\nimport Hero from \"../views/Hero\"\nimport CloseIcon from \"../elements/CloseIcon\"\nimport {\n  H1Light,\n  H3,\n  P,\n  PLight,\n  Highlight,\n  WrapTextBlock,\n  Strong,\n  Quote,\n  QuoteGroup,\n} from \"../elements/Text\"\n\n// TODO: reuse these templates between case studies\nconst SectionWrapper = styled(Container)`\n  ${tw`py-12`}\n`\n\nconst CloseWrapper = styled.div`\n  ${tw`md:absolute`};\n  right: 2%;\n  top: 2%;\n`\n\nconst Section = ({ children, ...props }) => {\n  const { title, style } = props\n\n  return (\n    <ContentFull style={style}>\n      <SectionWrapper>\n        <Inner>\n          <H3>{title}</H3>\n          {children}\n        </Inner>\n      </SectionWrapper>\n    </ContentFull>\n  )\n}\n\nconst TTC = () => (\n  <Layout>\n    <SEO title=\"TTC\" />\n    <AppWrapper>\n      <Hero isDark>\n        <CloseWrapper style={{ opacity: 0 }}>\n          <LinkTo href=\"/\">\n            <CloseIcon />\n          </LinkTo>\n        </CloseWrapper>\n\n        <H1Light style={{ opacity: 0 }}>\n          the <Highlight>Travel</Highlight> Corporation\n        </H1Light>\n        <PLight style={{ opacity: 0 }}>\n          <WrapTextBlock>\n            The Travel Corporation is comprised of many well known brands such\n            as Contiki Holidays, Trafalgar Tours,\n          </WrapTextBlock>{\" \"}\n          Insight Vacations among many others and runs guided tours, hotels and\n          independent travel solutions.\n        </PLight>\n      </Hero>\n\n      <Section title=\"Background\">\n        <P>\n          Our engagement with The Travel Corporation (TTC) initially set out to\n          generally improve their internal development processes and practices.\n        </P>\n        <P>\n          This included adoption of AWS as their primary development and\n          production infrastructure. We were quickly introduced to an internal\n          project to improve their consumer facing booking site, known as the{\" \"}\n          <Strong>Booking Engine.</Strong> We did this by adopting AngularJS{\" \"}\n          <em>(ahem, in 2014)</em>, fast end to end browser testing tools and\n          more direct consumer feedback through tracking and surveys.\n        </P>\n        <Quote>\n          We were able to rapidly develop and deploy new features with automated\n          continuous integration testing and frequent deployment - practices we\n          have continued to improve on and develop with TTC to this day.\n        </Quote>\n      </Section>\n      <Section title=\"The Problem\" style={tw`bg-grey-lightest`}>\n        <P>\n          Our new Booking Engine was still 100% dependent on the backend servers\n          to compute prices and process bookings. As much as we were able to\n          improve the front-end experience, we were still hampered by the slow\n          performance of the back-end.\n        </P>\n        <P>\n          We quickly won approval to launch a new project, which we called{\" \"}\n          <Strong>Booking Services</Strong>.\n        </P>\n        <Quote>\n          This project recognised that the architecture that had been used and\n          reused in all projects up until then relied on slow internal web\n          services, web services that were not especially efficient for the\n          types of interactions required by website consumers.\n        </Quote>\n      </Section>\n      <Section title=\"Challenges\" style={tw`bg-grey-lightest`}>\n        <P>\n          Customers start their journey by selecting a tour on one of the many\n          brand sites that give customers a wide variety of tours to search and\n          choose from, and once chosen, they land on the Booking Engine. All of\n          TTC's brands use it to guide their consumers and travel agents through\n          the booking experience, for example, allowing them to select how many\n          people are coming with them, whether they want flights or additional\n          sightseeing days either side of their tour, and then to process\n          payment and confirm the bookings.\n        </P>\n        <Quote>\n          The project's ambition was to improve the overall performance for our\n          consumers by rethinking the architecture of the back-end, but also to\n          capitalise on our work by building a platform for new features and\n          developments to benefit TTC in the years to come.\n        </Quote>\n      </Section>\n      <Section title=\"Solution\">\n        <P>\n          Our goal with the booking engine was two fold: we wanted to improve\n          the experience of the booking process by optimising the performance of\n          the pricing engine. Prices were normally computed in about 4-5 seconds\n          every time somebody made a change to their booking - this could mean\n          they selected a different hotel bedding configuration, or they added a\n          family member or friend to the booking. Up until this point, all\n          prices had been computed with a combination of SQL queries and Java\n          services. Our insight was that the vast majority of the data used to\n          produce a price changed very rarely, not for months at a time. We\n          simply had to get this pricing data, cache it, and feed it to a new\n          price engine we would write in JavaScript - something that could be\n          executed in the browser.\n        </P>\n        <P>\n          Writing a new price engine in JavaScript was more ambitious than we\n          had aniticipated. Prices rules for tours included dozens and dozens of\n          rules for discounts, bedding configurations, promotion availability\n          dates, flight discounts. The list went on. We devised an approach that\n          systematically enumerated as many booking configurations we could\n          think of, across as many tours as we could find in the database, and\n          compared the prices generated by the existing system with our own. We\n          logged the booking configurations and prices generated from the\n          systems that were in production. We used this comparative data as a\n          means of identifying missing features and bugs in our price engine,\n          and this list quickly formed part of our backlog.\n        </P>\n        <P>\n          It took dozens of hard won insights and hundreds of releases, but the\n          vision has panned out and we've all learned a lot in the process. The\n          codebase was covered by hundreds of automated tests that allowed us to\n          add new features without risking a regression.\n        </P>\n        <P>\n          Now we had a price engine that was written in only a few hundred lines\n          of JavaScript that could generate accurate prices in a browser or on\n          the server in Node.js.\n        </P>\n        <QuoteGroup>\n          <Quote>\n            It was insanely fast, computing prices in under 10 milliseconds even\n            on mobile devices.\n          </Quote>\n          <Quote>\n            At the same time, the Booking Engine itself was rewritten to take\n            advantage of this new ultra-fast price engine.\n          </Quote>\n        </QuoteGroup>\n      </Section>\n      <Section title=\"Project Impact\" style={tw`bg-grey-lightest`}>\n        <P>\n          It was while we were at TTC that Featurist developed Browser Monkey, a\n          tool that allowed us to test highly interactive browser applications\n          very quickly. We have close to 170,000 lines of JavaScript, including\n          18,000 lines of JSX - yet our unit- and end-to-end tests run in CI in\n          about 5 minutes on average.\n        </P>\n\n        <QuoteGroup>\n          <Quote>\n            One of our main goals was to use automated tests to ensure high code\n            quality and to be able to fix issues and deploy them in only a few\n            hours.\n          </Quote>\n          <Quote>\n            For a company that runs tens of thousands of tours each and every\n            year, being able to quickly generate list prices for those tours was\n            a major development.\n          </Quote>\n        </QuoteGroup>\n      </Section>\n    </AppWrapper>\n  </Layout>\n)\n\nexport default TTC\n","import React from \"react\"\nimport styled from \"styled-components\"\nimport tw from \"tailwind.macro\"\n\nconst Wrapper = styled.svg`\n  ${tw``};\n  width: 142px;\n  height: 142px;\n\n  &:hover > circle {\n    stroke-dashoffset: 0;\n  }\n`\n\nconst Circle = styled.circle`\n  stroke-dasharray: 100;\n  stroke-dashoffset: 100;\n  transition: stroke-dashoffset 0.35s ease-out;\n`\n\nconst CloseIcon = () => (\n  <Wrapper viewBox=\"0 0 24 24\">\n    <Circle\n      cx=\"12\"\n      cy=\"12\"\n      r=\"11\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"0.75\"\n    />\n    <g fill=\"none\" stroke=\"currentColor\" strokeWidth=\"0.55\">\n      <path d=\"M6.643 6.643l10.714 10.714M6.643 17.357L17.357 6.643\" />\n    </g>\n  </Wrapper>\n)\n\nexport default CloseIcon\n"],"sourceRoot":""}