!function(t,e){"use strict";"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.Headroom=e()}(this,function(){"use strict";function t(t){this.callback=t,this.ticking=!1}function e(t){return t&&"undefined"!=typeof window&&(t===window||t.nodeType)}function n(t){if(arguments.length<=0)throw new Error("Missing arguments in extend function");var i,o,s=t||{};for(o=1;o<arguments.length;o++){var l=arguments[o]||{};for(i in l)"object"!=typeof s[i]||e(s[i])?s[i]=s[i]||l[i]:s[i]=n(s[i],l[i])}return s}function i(t,e){e=n(e,i.options),this.lastKnownScrollY=0,this.elem=t,this.tolerance=function(t){return t===Object(t)?t:{down:t,up:t}}(e.tolerance),this.classes=e.classes,this.offset=e.offset,this.scroller=e.scroller,this.initialised=!1,this.onPin=e.onPin,this.onUnpin=e.onUnpin,this.onTop=e.onTop,this.onNotTop=e.onNotTop,this.onBottom=e.onBottom,this.onNotBottom=e.onNotBottom}var o={bind:!!function(){}.bind,classList:"classList"in document.documentElement,rAF:!!(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame)};return window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,t.prototype={constructor:t,update:function(){this.callback&&this.callback(),this.ticking=!1},requestTick:function(){this.ticking||(requestAnimationFrame(this.rafCallback||(this.rafCallback=this.update.bind(this))),this.ticking=!0)},handleEvent:function(){this.requestTick()}},i.prototype={constructor:i,init:function(){if(i.cutsTheMustard)return this.debouncer=new t(this.update.bind(this)),this.elem.classList.add(this.classes.initial),setTimeout(this.attachEvent.bind(this),100),this},destroy:function(){var t=this.classes;this.initialised=!1;for(var e in t)t.hasOwnProperty(e)&&this.elem.classList.remove(t[e]);this.scroller.removeEventListener("scroll",this.debouncer,!1)},attachEvent:function(){this.initialised||(this.lastKnownScrollY=this.getScrollY(),this.initialised=!0,this.scroller.addEventListener("scroll",this.debouncer,!1),this.debouncer.handleEvent())},unpin:function(){var t=this.elem.classList,e=this.classes;!t.contains(e.pinned)&&t.contains(e.unpinned)||(t.add(e.unpinned),t.remove(e.pinned),this.onUnpin&&this.onUnpin.call(this))},pin:function(){var t=this.elem.classList,e=this.classes;t.contains(e.unpinned)&&(t.remove(e.unpinned),t.add(e.pinned),this.onPin&&this.onPin.call(this))},top:function(){var t=this.elem.classList,e=this.classes;t.contains(e.top)||(t.add(e.top),t.remove(e.notTop),this.onTop&&this.onTop.call(this))},notTop:function(){var t=this.elem.classList,e=this.classes;t.contains(e.notTop)||(t.add(e.notTop),t.remove(e.top),this.onNotTop&&this.onNotTop.call(this))},bottom:function(){var t=this.elem.classList,e=this.classes;t.contains(e.bottom)||(t.add(e.bottom),t.remove(e.notBottom),this.onBottom&&this.onBottom.call(this))},notBottom:function(){var t=this.elem.classList,e=this.classes;t.contains(e.notBottom)||(t.add(e.notBottom),t.remove(e.bottom),this.onNotBottom&&this.onNotBottom.call(this))},getScrollY:function(){return void 0!==this.scroller.pageYOffset?this.scroller.pageYOffset:void 0!==this.scroller.scrollTop?this.scroller.scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop},getViewportHeight:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},getElementPhysicalHeight:function(t){return Math.max(t.offsetHeight,t.clientHeight)},getScrollerPhysicalHeight:function(){return this.scroller===window||this.scroller===document.body?this.getViewportHeight():this.getElementPhysicalHeight(this.scroller)},getDocumentHeight:function(){var t=document.body,e=document.documentElement;return Math.max(t.scrollHeight,e.scrollHeight,t.offsetHeight,e.offsetHeight,t.clientHeight,e.clientHeight)},getElementHeight:function(t){return Math.max(t.scrollHeight,t.offsetHeight,t.clientHeight)},getScrollerHeight:function(){return this.scroller===window||this.scroller===document.body?this.getDocumentHeight():this.getElementHeight(this.scroller)},isOutOfBounds:function(t){var e=t<0,n=t+this.getScrollerPhysicalHeight()>this.getScrollerHeight();return e||n},toleranceExceeded:function(t,e){return Math.abs(t-this.lastKnownScrollY)>=this.tolerance[e]},shouldUnpin:function(t,e){var n=t>this.lastKnownScrollY,i=t>=this.offset;return n&&i&&e},shouldPin:function(t,e){var n=t<this.lastKnownScrollY,i=t<=this.offset;return n&&e||i},update:function(){var t=this.getScrollY(),e=t>this.lastKnownScrollY?"down":"up",n=this.toleranceExceeded(t,e);this.isOutOfBounds(t)||(t<=this.offset?this.top():this.notTop(),t+this.getViewportHeight()>=this.getScrollerHeight()?this.bottom():this.notBottom(),this.shouldUnpin(t,n)?this.unpin():this.shouldPin(t,n)&&this.pin(),this.lastKnownScrollY=t)}},i.options={tolerance:{up:0,down:0},offset:0,scroller:window,classes:{pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",bottom:"headroom--bottom",notBottom:"headroom--not-bottom",initial:"headroom"}},i.cutsTheMustard=void 0!==o&&o.rAF&&o.bind&&o.classList,i}),function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof module&&module.exports?module.exports=e():t.ScrollTrigger=e()}(this,function(){"use strict";return function(t,e,n){function i(){var t=d.bindElement.scrollTop?d.bindElement.scrollTop:document.documentElement.scrollTop,e=d.bindElement.scrollLeft?d.bindElement.scrollLeft:document.documentElement.scrollLeft;r.left==e&&r.top==t||d.scrollDidChange(),s.length>0||l.length>0?(a=!0,c(i)):a=!1}function o(t,e){var n=e.split("("),i=n[0];if(n=n.length>1?(n=n[1].split(")")[0]).indexOf("', '")>-1?n.split("', '"):n.indexOf("','")>-1?n.split("','"):n.indexOf('", "')>-1?n.split('", "'):n.indexOf('","')>-1?n.split('","'):[n]:[],n=n.map(function(t){return function(t){'"'==(t+="")[0]&&(t=t.substr(1));"'"==t[0]&&(t=t.substr(1));'"'==t[t.length-1]&&(t=t.substr(0,t.length-1));"'"==t[t.length-1]&&(t=t.substr(0,t.length-1));return t}(t)}),"function"==typeof d.callScope[i])try{d.callScope[i].apply(t.element,n)}catch(t){try{d.callScope[i].apply(null,n)}catch(t){}}}this.scrollElement=window,this.bindElement=document.body,this.callScope=window;var s=[],l=[],r={left:-1,top:-1},c=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(t){setTimeout(t,1e3/60)},a=!1,h=function(t){return function(e,n,i){return t.bindElement=void 0!=n&&null!=n?n:document.body,t.scrollElement=void 0!=i&&null!=i?i:window,t.bind(t.bindElement.querySelectorAll("[data-scroll]")),t}}(this);this.bind=function(e){return function(n){n instanceof HTMLElement&&(n=[n]);var o=[].slice.call(n);return o=o.map(function(e,n){return new function(t,e){this.element=e,this.defaultOptions=t,this.showCallback=null,this.hideCallback=null,this.visibleClass="visible",this.hiddenClass="invisible",this.addWidth=!1,this.addHeight=!1,this.once=!1;var n=0,i=0;this.left=function(t){return function(){return t.element.getBoundingClientRect().left}}(this),this.top=function(t){return function(){return t.element.getBoundingClientRect().top}}(this),this.xOffset=function(t){return function(e){var i=n;return t.addWidth&&!e?i+=t.width():e&&!t.addWidth&&(i-=t.width()),i}}(this),this.yOffset=function(t){return function(e){var n=i;return t.addHeight&&!e?n+=t.height():e&&!t.addHeight&&(n-=t.height()),n}}(this),this.width=function(t){return function(){return t.element.offsetWidth}}(this),this.height=function(t){return function(){return t.element.offsetHeight}}(this),this.reset=function(t){return function(){t.removeClass(t.visibleClass),t.removeClass(t.hiddenClass)}}(this),this.addClass=function(t){return t.element.classList?function(e,n){t.element.classList.contains(e)||(t.element.classList.add(e),"function"==typeof n&&n())}:function(e,n){e=e.trim();var i=new RegExp("(?:^|\\s)"+e+"(?:(\\s\\w)|$)","ig"),o=t.element.className;i.test(o)||(t.element.className+=" "+e,"function"==typeof n&&n())}}(this),this.removeClass=function(t){return t.element.classList?function(e,n){t.element.classList.contains(e)&&(t.element.classList.remove(e),"function"==typeof n&&n())}:function(e,n){e=e.trim();var i=new RegExp("(?:^|\\s)"+e+"(?:(\\s\\w)|$)","ig"),o=t.element.className;i.test(o)&&(t.element.className=o.replace(i,"$1").trim(),"function"==typeof n&&n())}}(this),this.init=function(t){return function(){var e=t.defaultOptions,o=t.element.getAttribute("data-scroll");e&&(e.toggle&&e.toggle.visible&&(t.visibleClass=e.toggle.visible),e.toggle&&e.toggle.hidden&&(t.hiddenClass=e.toggle.hidden),e.showCallback&&(t.showCallback=e.showCallback),e.hideCallback&&(t.hideCallback=e.hideCallback),!0===e.centerHorizontal&&(n=t.element.offsetWidth/2),!0===e.centerVertical&&(i=t.element.offsetHeight/2),e.offset&&e.offset.x&&(n+=e.offset.x),e.offset&&e.offset.y&&(i+=e.offset.y),e.addWidth&&(t.addWidth=e.addWidth),e.addHeight&&(t.addHeight=e.addHeight),e.once&&(t.once=e.once));var s=o.indexOf("addWidth")>-1,l=o.indexOf("addHeight")>-1,r=o.indexOf("once")>-1;!1===t.addWidth&&!0===s&&(t.addWidth=s),!1===t.addHeight&&!0===l&&(t.addHeight=l),!1===t.once&&!0===r&&(t.once=r),t.showCallback=t.element.hasAttribute("data-scroll-showCallback")?t.element.getAttribute("data-scroll-showCallback"):t.showCallback,t.hideCallback=t.element.hasAttribute("data-scroll-hideCallback")?t.element.getAttribute("data-scroll-hideCallback"):t.hideCallback;var c=o.split("toggle(");if(c.length>1){var a=c[1].split(")")[0].split(",");String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),t.visibleClass=a[0].trim().replace(".",""),t.hiddenClass=a[1].trim().replace(".","")}o.indexOf("centerHorizontal")>-1&&(n=t.element.offsetWidth/2),o.indexOf("centerVertical")>-1&&(i=t.element.offsetHeight/2);var h=o.split("offset(");if(h.length>1){var d=h[1].split(")")[0].split(",");n+=parseInt(d[0].replace("px","")),i+=parseInt(d[1].replace("px",""))}return t}}(this)}(t,e).init()}),(s=s.concat(o)).length>0&&0==a?(a=!0,i()):a=!1,e}}(this),this.triggerFor=function(t){var e=null;return s.each(function(n,i){n.element==t&&(e=n)}),e},this.destroy=function(t){return function(e){return s.each(function(t,n){t.element==e&&s.splice(n,1)}),t}}(this),this.destroyAll=function(t){return function(){return s=[],t}}(this),this.reset=function(t){return function(e){var n=t.triggerFor(e);if(null!=n){n.reset();var i=s.indexOf(n);i>-1&&s.splice(i,1)}return t}}(this),this.resetAll=function(t){return function(){return s.each(function(t,e){t.reset()}),s=[],t}}(this),this.attach=function(t){return function(e){return l.push(e),a||(a=!0,i()),t}}(this),this.detach=function(t){return function(e){var n=l.indexOf(e);return n>-1&&l.splice(n,1),t}}(this);var d=this;return this.scrollDidChange=function(t){return function(){var e=t.scrollElement.innerWidth||t.scrollElement.offsetWidth,n=t.scrollElement.innerHeight||t.scrollElement.offsetHeight,i=t.bindElement.scrollTop?t.bindElement.scrollTop:document.documentElement.scrollTop,c=t.bindElement.scrollLeft?t.bindElement.scrollLeft:document.documentElement.scrollLeft,a=[];s.each(function(t,s){var l=t.left(),h=t.top();r.left>c?l-=t.xOffset(!0):r.left<c&&(l+=t.xOffset(!1)),r.top>i?h-=t.yOffset(!0):r.top<i&&(h+=t.yOffset(!1)),l<e&&l>=0&&h<n&&h>=0?(t.addClass(t.visibleClass,function(){t.showCallback&&o(t,t.showCallback)}),t.removeClass(t.hiddenClass),t.once&&a.push(t)):(t.addClass(t.hiddenClass),t.removeClass(t.visibleClass,function(){t.hideCallback&&o(t,t.hideCallback)}))}),l.each(function(o){o.call(t,c,i,e,n)}),a.each(function(t){var e=s.indexOf(t);e>-1&&s.splice(e,1)}),r.left=c,r.top=i}}(this),Array.prototype.each=function(t){for(var e=this.length,n=0;n<e;n++){var i=this[n];i&&t(i,n)}},h(t,e,n)}});